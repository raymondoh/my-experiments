ðŸ”§ getAppMode: Starting mode detection
ðŸ”§ NEXT_PUBLIC_APP_MODE: firebase
ðŸ”§ Firebase env vars: {
apiKey: true,
authDomain: true,
projectId: true,
serverProjectId: true,
clientEmail: true,
privateKey: true
}
ðŸ”§ Final app mode: firebase
ðŸ”§ JobServiceFactory: Using FirebaseJobService
[auth.jwt] JWT callback triggered.
[auth.session] Session callback triggered.
[auth.session] Token present, populating session user.
[auth.jwt] JWT callback triggered.
[auth.session] Session callback triggered.
[auth.session] Token present, populating session user.
ðŸ”¥ Firebase Admin SDK Initialized
[LOG] Attempting to fetch latest jobs...
GET /register 200 in 2687ms
[LOG] Firestore query for latest jobs returned 1 documents.
GET /api/jobs/filters 200 in 3391ms
âœ“ Compiled in 0ms (2159 modules)
ðŸ”§ getAppMode: Starting mode detection
ðŸ”§ NEXT_PUBLIC_APP_MODE: firebase
ðŸ”§ Firebase env vars: {
apiKey: true,
authDomain: true,
projectId: true,
serverProjectId: true,
clientEmail: true,
privateKey: true
}
ðŸ”§ Final app mode: firebase
ðŸ”§ JobServiceFactory: Using FirebaseJobService
[auth.jwt] JWT callback triggered.
[auth.session] Session callback triggered.
[auth.session] Token present, populating session user.
ðŸ”¥ Firebase Admin SDK Initialized
[LOG] Attempting to fetch latest jobs...
[LOG] Firestore query for latest jobs returned 1 documents.
Jobs received from service: [
{
"title": "Leaking bath tap",
"description": "The hot water bathroom is leaking into the flat below. Needs fixing asap.",
"urgency": "urgent",
"location": {
"postcode": "E7 0EW",
"address": "96 Woodgrange Road",
"latitude": 51.550906,
"longitude": 0.025441
},
"budget": 150,
"serviceType": "Bathroom Plumbing",
"customerId": "7nU06F6lBhSEsiyKURnj5JdMuLf1",
"customerContact": {
"name": "Marvin Miller",
"email": "marvinmiller@rocketmail.com",
"phone": "07453 455 868"
},
"status": "open",
"createdAt": "2025-09-09T20:04:52.029Z",
"isFromOnboarding": false,
"quoteCount": 1,
"updatedAt": "2025-09-09T20:24:31.677Z",
"id": "9ddMvzjpxgrBl8mxIBij",
"scheduledDate": null
}
]
GET /dashboard/tradesperson/job-board?quote_sent=true&page=1 200 in 2649ms
âœ“ Compiled in 1ms (2159 modules)
âœ“ Compiled in 1ms (2119 modules)
ðŸ”§ getAppMode: Starting mode detection
ðŸ”§ NEXT_PUBLIC_APP_MODE: firebase
ðŸ”§ Firebase env vars: {
apiKey: true,
authDomain: true,
projectId: true,
serverProjectId: true,
clientEmail: true,
privateKey: true
}
ðŸ”§ Final app mode: firebase
ðŸ”§ JobServiceFactory: Using FirebaseJobService
[auth.jwt] JWT callback triggered.
[auth.session] Session callback triggered.
[auth.session] Token present, populating session user.
[auth.jwt] JWT callback triggered.
[auth.session] Session callback triggered.
[auth.session] Token present, populating session user.
[auth.jwt] JWT callback triggered.
[auth.session] Session callback triggered.
[auth.session] Token present, populating session user.
ðŸ”¥ Firebase Admin SDK Initialized
GET /api/jobs/search?quote_sent=true&page=1 200 in 2622ms
GET /api/jobs/search?page=1 200 in 2624ms
GET /api/jobs/save 200 in 2736ms
âœ“ Compiled in 1ms (2119 modules)
ðŸ”§ getAppMode: Starting mode detection
ðŸ”§ NEXT_PUBLIC_APP_MODE: firebase
ðŸ”§ Firebase env vars: {
apiKey: true,
authDomain: true,
projectId: true,
serverProjectId: true,
clientEmail: true,
privateKey: true
}
ðŸ”§ Final app mode: firebase
ðŸ”§ JobServiceFactory: Using FirebaseJobService
[auth.jwt] JWT callback triggered.
[auth.session] Session callback triggered.
[auth.session] Token present, populating session user.
[auth.jwt] JWT callback triggered.
[auth.session] Session callback triggered.
[auth.session] Token present, populating session user.
ðŸ”¥ Firebase Admin SDK Initialized
[LOG] Attempting to fetch latest jobs...
GET /register 200 in 2657ms
[LOG] Firestore query for latest jobs returned 1 documents.
GET /api/jobs/filters 200 in 2770ms
âœ“ Compiled in 1ms (2119 modules)
âœ“ Compiled in 0ms (2119 modules)
âœ“ Compiled in 1ms (2119 modules)
ðŸ”§ getAppMode: Starting mode detection
ðŸ”§ NEXT_PUBLIC_APP_MODE: firebase
ðŸ”§ Firebase env vars: {
apiKey: true,
authDomain: true,
projectId: true,
serverProjectId: true,
clientEmail: true,
privateKey: true
}
ðŸ”§ Final app mode: firebase
[auth.jwt] JWT callback triggered.
[auth.session] Session callback triggered.
[auth.session] Token present, populating session user.
ðŸ”¥ Firebase Admin SDK Initialized
GET /api/jobs/save 200 in 2300ms
[auth.jwt] JWT callback triggered.
[auth.session] Session callback triggered.
[auth.session] Token present, populating session user.
ðŸ”¥ Firebase Admin SDK Initialized
[auth.jwt] JWT callback triggered.
[auth.session] Session callback triggered.
[auth.session] Token present, populating session user.
GET /register 200 in 2223ms
GET /register 200 in 106ms
â—‹ Compiling /api/auth/[...nextauth] ...
âœ“ Compiled /api/auth/[...nextauth] in 2.2s (2121 modules)
[auth.jwt] JWT callback triggered.
[auth.session] Session callback triggered.
[auth.session] Token present, populating session user.
GET /api/auth/session 200 in 2367ms
ðŸ”§ getAppMode: Starting mode detection
ðŸ”§ NEXT_PUBLIC_APP_MODE: firebase
ðŸ”§ Firebase env vars: {
apiKey: true,
authDomain: true,
projectId: true,
serverProjectId: true,
clientEmail: true,
privateKey: true
}
ðŸ”§ Final app mode: firebase
ðŸ”§ JobServiceFactory: Using FirebaseJobService
[auth.jwt] JWT callback triggered.
[auth.session] Session callback triggered.
[auth.session] Token present, populating session user.
ðŸ”¥ Firebase Admin SDK Initialized
[auth.jwt] JWT callback triggered.
[auth.session] Session callback triggered.
[auth.session] Token present, populating session user.
[LOG] Attempting to fetch latest jobs...
[auth.jwt] JWT callback triggered.
[auth.session] Session callback triggered.
[auth.session] Token present, populating session user.
GET /api/auth/session 200 in 153ms
[LOG] Firestore query for latest jobs returned 1 documents.
Jobs received from service: [
{
"title": "Leaking bath tap",
"description": "The hot water bathroom is leaking into the flat below. Needs fixing asap.",
"urgency": "urgent",
"location": {
"postcode": "E7 0EW",
"address": "96 Woodgrange Road",
"latitude": 51.550906,
"longitude": 0.025441
},
"budget": 150,
"serviceType": "Bathroom Plumbing",
"customerId": "7nU06F6lBhSEsiyKURnj5JdMuLf1",
"customerContact": {
"name": "Marvin Miller",
"email": "marvinmiller@rocketmail.com",
"phone": "07453 455 868"
},
"status": "open",
"createdAt": "2025-09-09T20:04:52.029Z",
"isFromOnboarding": false,
"quoteCount": 1,
"updatedAt": "2025-09-09T20:24:31.677Z",
"id": "9ddMvzjpxgrBl8mxIBij",
"scheduledDate": null
}
]
[auth.jwt] JWT callback triggered.
[auth.session] Session callback triggered.
[auth.session] Token present, populating session user.
[auth.jwt] JWT callback triggered.
[auth.session] Session callback triggered.
[auth.session] Token present, populating session user.
[auth.jwt] JWT callback triggered.
[auth.session] Session callback triggered.
[auth.session] Token present, populating session user.
[auth.jwt] JWT callback triggered.
[auth.session] Session callback triggered.
[auth.session] Token present, populating session user.
[auth.jwt] JWT callback triggered.
[auth.session] Session callback triggered.
[auth.session] Token present, populating session user.
[auth.jwt] JWT callback triggered.
[auth.session] Session callback triggered.
[auth.session] Token present, populating session user.
GET /api/auth/session 200 in 227ms
[LOG] Attempting to fetch latest jobs...
GET /register 200 in 689ms
[LOG] Firestore query for latest jobs returned 1 documents.
Jobs received from service: [
{
"title": "Leaking bath tap",
"description": "The hot water bathroom is leaking into the flat below. Needs fixing asap.",
"urgency": "urgent",
"location": {
"postcode": "E7 0EW",
"address": "96 Woodgrange Road",
"latitude": 51.550906,
"longitude": 0.025441
},
"budget": 150,
"serviceType": "Bathroom Plumbing",
"customerId": "7nU06F6lBhSEsiyKURnj5JdMuLf1",
"customerContact": {
"name": "Marvin Miller",
"email": "marvinmiller@rocketmail.com",
"phone": "07453 455 868"
},
"status": "open",
"createdAt": "2025-09-09T20:04:52.029Z",
"isFromOnboarding": false,
"quoteCount": 1,
"updatedAt": "2025-09-09T20:24:31.677Z",
"id": "9ddMvzjpxgrBl8mxIBij",
"scheduledDate": null
}
]
GET /dashboard/tradesperson/job-board 200 in 799ms
[auth.jwt] JWT callback triggered.
[auth.session] Session callback triggered.
[auth.session] Token present, populating session user.
GET /register 200 in 412ms
GET /api/auth/session 200 in 56ms
GET /dashboard/tradesperson/job-board 200 in 513ms
[auth.jwt] JWT callback triggered.
[auth.session] Session callback triggered.
[auth.session] Token present, populating session user.
GET /api/jobs/search?quote_sent=true&page=1 200 in 111ms
[auth.jwt] JWT callback triggered.
[auth.session] Session callback triggered.
[auth.session] Token present, populating session user.
GET /api/jobs/save 200 in 107ms
[auth.jwt] JWT callback triggered.
[auth.session] Session callback triggered.
[auth.session] Token present, populating session user.
GET /api/jobs/save 200 in 99ms
(node:3207) [DEP0040] DeprecationWarning: The `punycode` module is deprecated. Please use a userland alternative instead.
(Use `node --trace-deprecation ...` to show where the warning was created)
GET /api/auth/csrf 200 in 25ms
POST /api/auth/signout 200 in 34ms
GET /api/auth/session 200 in 23ms
GET /api/auth/session 200 in 27ms
â—‹ Compiling / ...
(node:3212) [DEP0040] DeprecationWarning: The `punycode` module is deprecated. Please use a userland alternative instead.
(Use `node --trace-deprecation ...` to show where the warning was created)
âœ“ Compiled / in 5.4s (2187 modules)
ðŸ”§ getAppMode: Starting mode detection
ðŸ”§ NEXT_PUBLIC_APP_MODE: firebase
ðŸ”§ Firebase env vars: {
apiKey: true,
authDomain: true,
projectId: true,
serverProjectId: true,
clientEmail: true,
privateKey: true
}
ðŸ”§ Final app mode: firebase
ðŸ”§ JobServiceFactory: Using FirebaseJobService
ðŸ”¥ Firebase Admin SDK Initialized
GET / 200 in 6671ms
â—‹ Compiling /login ...
âœ“ Compiled /login in 1457ms (2197 modules)
GET /login 200 in 1771ms
GET /register 200 in 411ms
GET /login 200 in 203ms
GET /register 200 in 151ms
--- [loginAction] Start ---
[loginAction] Attempting login for email: marvinmiller@rocketmail.com
[loginAction] Calling NextAuth signIn...
[auth.authorize] Authorize callback triggered.
[auth.authorize] Validating credentials for: marvinmiller@rocketmail.com
ðŸ”¥ Firebase Admin SDK Initialized
[auth.authorize] Credentials valid for: marvinmiller@rocketmail.com
[auth.authorize] User verified, returning user object for session creation.
[auth.jwt] JWT callback triggered.
[auth.jwt] User object present, populating token.
[loginAction] NextAuth signIn call completed without throwing.
[loginAction] Login successful for marvinmiller@rocketmail.com. Determining redirect...
[loginAction] Redirecting to: /dashboard/customer
POST /login 200 in 1117ms
â—‹ Compiling /dashboard/customer ...
âœ“ Compiled /dashboard/customer in 2.3s (2208 modules)
ðŸ”§ getAppMode: Starting mode detection
ðŸ”§ NEXT_PUBLIC_APP_MODE: firebase
ðŸ”§ Firebase env vars: {
apiKey: true,
authDomain: true,
projectId: true,
serverProjectId: true,
clientEmail: true,
privateKey: true
}
ðŸ”§ Final app mode: firebase
ðŸ”§ JobServiceFactory: Using FirebaseJobService
[auth.jwt] JWT callback triggered.
[auth.session] Session callback triggered.
[auth.session] Token present, populating session user.
[auth.jwt] JWT callback triggered.
[auth.session] Session callback triggered.
[auth.session] Token present, populating session user.
[auth.jwt] JWT callback triggered.
[auth.session] Session callback triggered.
[auth.session] Token present, populating session user.
[auth.jwt] JWT callback triggered.
[auth.session] Session callback triggered.
[auth.session] Token present, populating session user.
ðŸ”¥ Firebase Admin SDK Initialized
GET /login 200 in 877ms
[auth.jwt] JWT callback triggered.
[auth.session] Session callback triggered.
[auth.session] Token present, populating session user.
[auth.jwt] JWT callback triggered.
[auth.session] Session callback triggered.
[auth.session] Token present, populating session user.
[auth.jwt] JWT callback triggered.
[auth.session] Session callback triggered.
[auth.session] Token present, populating session user.
GET /register 200 in 1075ms
GET /register 200 in 259ms
GET /dashboard/customer 200 in 3520ms
â—‹ Compiling /api/firebase/token ...
âœ“ Compiled /api/firebase/token in 617ms (2210 modules)
[auth.jwt] JWT callback triggered.
[auth.session] Session callback triggered.
[auth.session] Token present, populating session user.
ðŸ”¥ Firebase Admin SDK Initialized
GET /api/firebase/token 200 in 814ms
[auth.jwt] JWT callback triggered.
[auth.session] Session callback triggered.
[auth.session] Token present, populating session user.
GET /api/firebase/token 200 in 48ms
â—‹ Compiling /dashboard/messages ...
âœ“ Compiled /dashboard/messages in 3.4s (3901 modules)
ðŸ”§ getAppMode: Starting mode detection
ðŸ”§ NEXT_PUBLIC_APP_MODE: firebase
ðŸ”§ Firebase env vars: {
apiKey: true,
authDomain: true,
projectId: true,
serverProjectId: true,
clientEmail: true,
privateKey: true
}
ðŸ”§ Final app mode: firebase
ðŸ”§ JobServiceFactory: Using FirebaseJobService
[auth.jwt] JWT callback triggered.
[auth.session] Session callback triggered.
[auth.session] Token present, populating session user.
ðŸ”¥ Firebase Admin SDK Initialized
GET /dashboard/messages 200 in 3730ms
â—‹ Compiling /dashboard ...
âœ“ Compiled /dashboard in 717ms (2198 modules)
[auth.jwt] JWT callback triggered.
[auth.session] Session callback triggered.
[auth.session] Token present, populating session user.
GET /dashboard 200 in 905ms
ðŸ”§ getAppMode: Starting mode detection
ðŸ”§ NEXT_PUBLIC_APP_MODE: firebase
ðŸ”§ Firebase env vars: {
apiKey: true,
authDomain: true,
projectId: true,
serverProjectId: true,
clientEmail: true,
privateKey: true
}
ðŸ”§ Final app mode: firebase
ðŸ”§ JobServiceFactory: Using FirebaseJobService
[auth.jwt] JWT callback triggered.
[auth.session] Session callback triggered.
[auth.session] Token present, populating session user.
[auth.jwt] JWT callback triggered.
[auth.session] Session callback triggered.
[auth.session] Token present, populating session user.
ðŸ”¥ Firebase Admin SDK Initialized
[auth.jwt] JWT callback triggered.
[auth.session] Session callback triggered.
[auth.session] Token present, populating session user.
[auth.jwt] JWT callback triggered.
[auth.session] Session callback triggered.
[auth.session] Token present, populating session user.
GET /dashboard/customer 200 in 315ms
GET /dashboard/customer 200 in 247ms
â—‹ Compiling /dashboard/customer/jobs/[id]/quotes ...
âœ“ Compiled /dashboard/customer/jobs/[id]/quotes in 3.4s (3902 modules)
ðŸ”§ getAppMode: Starting mode detection
ðŸ”§ NEXT_PUBLIC_APP_MODE: firebase
ðŸ”§ Firebase env vars: {
apiKey: true,
authDomain: true,
projectId: true,
serverProjectId: true,
clientEmail: true,
privateKey: true
}
ðŸ”§ Final app mode: firebase
ðŸ”§ JobServiceFactory: Using FirebaseJobService
(node:3259) [DEP0040] DeprecationWarning: The `punycode` module is deprecated. Please use a userland alternative instead.
(Use `node --trace-deprecation ...` to show where the warning was created)
ðŸ”§ getAppMode: Starting mode detection
ðŸ”§ NEXT_PUBLIC_APP_MODE: firebase
ðŸ”§ Firebase env vars: {
apiKey: true,
authDomain: true,
projectId: true,
serverProjectId: true,
clientEmail: true,
privateKey: true
}
ðŸ”§ Final app mode: firebase
ðŸ”§ JobServiceFactory: Using FirebaseJobService
[auth.jwt] JWT callback triggered.
[auth.session] Session callback triggered.
[auth.session] Token present, populating session user.
[auth.jwt] JWT callback triggered.
[auth.session] Session callback triggered.
[auth.session] Token present, populating session user.
[auth.jwt] JWT callback triggered.
[auth.session] Session callback triggered.
[auth.session] Token present, populating session user.
[auth.jwt] JWT callback triggered.
[auth.session] Session callback triggered.
[auth.session] Token present, populating session user.
ðŸ”¥ Firebase Admin SDK Initialized
GET /dashboard/customer/jobs/9ddMvzjpxgrBl8mxIBij/quotes 200 in 6957ms
[auth.jwt] JWT callback triggered.
[auth.session] Session callback triggered.
[auth.session] Token present, populating session user.
GET /api/firebase/token 200 in 286ms
[auth.jwt] JWT callback triggered.
[auth.session] Session callback triggered.
[auth.session] Token present, populating session user.
GET /api/firebase/token 200 in 52ms
[auth.jwt] JWT callback triggered.
[auth.session] Session callback triggered.
[auth.session] Token present, populating session user.
ðŸ“§ Email sent successfully to: hello@idiomdigital.com
ðŸ“§ Email sent successfully to: marvinmiller@rocketmail.com
â—‹ Compiling /dashboard/customer/jobs/[id] ...
ðŸ”§ getAppMode: Starting mode detection
ðŸ”§ NEXT_PUBLIC_APP_MODE: firebase
ðŸ”§ Firebase env vars: {
apiKey: true,
authDomain: true,
projectId: true,
serverProjectId: true,
clientEmail: true,
privateKey: true
}
ðŸ”§ Final app mode: firebase
ðŸ”§ JobServiceFactory: Using FirebaseJobService
(node:3262) [DEP0040] DeprecationWarning: The `punycode` module is deprecated. Please use a userland alternative instead.
(Use `node --trace-deprecation ...` to show where the warning was created)
âœ“ Compiled /dashboard/customer/jobs/[id] in 5.3s (3823 modules)
[auth.jwt] JWT callback triggered.
[auth.session] Session callback triggered.
[auth.session] Token present, populating session user.
ðŸ”§ getAppMode: Starting mode detection
ðŸ”§ NEXT_PUBLIC_APP_MODE: firebase
ðŸ”§ Firebase env vars: {
apiKey: true,
authDomain: true,
projectId: true,
serverProjectId: true,
clientEmail: true,
privateKey: true
}
ðŸ”§ Final app mode: firebase
ðŸ”§ JobServiceFactory: Using FirebaseJobService
ðŸ”¥ Firebase Admin SDK Initialized
[auth.jwt] JWT callback triggered.
[auth.session] Session callback triggered.
[auth.session] Token present, populating session user.
[auth.jwt] JWT callback triggered.
[auth.session] Session callback triggered.
[auth.session] Token present, populating session user.
[auth.jwt] JWT callback triggered.
[auth.session] Session callback triggered.
[auth.session] Token present, populating session user.
[auth.jwt] JWT callback triggered.
[auth.session] Session callback triggered.
[auth.session] Token present, populating session user.
[auth.jwt] JWT callback triggered.
[auth.session] Session callback triggered.
[auth.session] Token present, populating session user.
GET /register 200 in 702ms
GET /register 200 in 261ms
GET /dashboard/customer 200 in 791ms
(node:3276) [DEP0040] DeprecationWarning: The `punycode` module is deprecated. Please use a userland alternative instead.
(Use `node --trace-deprecation ...` to show where the warning was created)
ðŸ”§ getAppMode: Starting mode detection
ðŸ”§ NEXT_PUBLIC_APP_MODE: firebase
ðŸ”§ Firebase env vars: {
apiKey: true,
authDomain: true,
projectId: true,
serverProjectId: true,
clientEmail: true,
privateKey: true
}
ðŸ”§ Final app mode: firebase
ðŸ”§ JobServiceFactory: Using FirebaseJobService
[auth.jwt] JWT callback triggered.
[auth.session] Session callback triggered.
[auth.session] Token present, populating session user.
[auth.jwt] JWT callback triggered.
[auth.session] Session callback triggered.
[auth.session] Token present, populating session user.
[auth.jwt] JWT callback triggered.
[auth.session] Session callback triggered.
[auth.session] Token present, populating session user.
[auth.jwt] JWT callback triggered.
[auth.session] Session callback triggered.
[auth.session] Token present, populating session user.
[auth.jwt] JWT callback triggered.
[auth.session] Session callback triggered.
[auth.session] Token present, populating session user.
[auth.jwt] JWT callback triggered.
[auth.session] Session callback triggered.
[auth.session] Token present, populating session user.
[auth.jwt] JWT callback triggered.
[auth.session] Session callback triggered.
[auth.session] Token present, populating session user.
[auth.jwt] JWT callback triggered.
[auth.session] Session callback triggered.
[auth.session] Token present, populating session user.
GET /dashboard/customer/jobs/9ddMvzjpxgrBl8mxIBij?quote_accepted=true 200 in 9614ms
POST /dashboard/customer/jobs/9ddMvzjpxgrBl8mxIBij/quotes 303 in 10463ms
GET /dashboard/customer/jobs/9ddMvzjpxgrBl8mxIBij?quote_accepted=true 200 in 294ms
ðŸ”§ getAppMode: Starting mode detection
ðŸ”§ NEXT_PUBLIC_APP_MODE: firebase
ðŸ”§ Firebase env vars: {
apiKey: true,
authDomain: true,
projectId: true,
serverProjectId: true,
clientEmail: true,
privateKey: true
}
ðŸ”§ Final app mode: firebase
ðŸ”§ JobServiceFactory: Using FirebaseJobService
(node:3277) [DEP0040] DeprecationWarning: The `punycode` module is deprecated. Please use a userland alternative instead.
(Use `node --trace-deprecation ...` to show where the warning was created)
[auth.jwt] JWT callback triggered.
[auth.session] Session callback triggered.
[auth.session] Token present, populating session user.
GET /dashboard/customer/jobs/9ddMvzjpxgrBl8mxIBij 200 in 131ms
ðŸ”§ getAppMode: Starting mode detection
ðŸ”§ NEXT_PUBLIC_APP_MODE: firebase
ðŸ”§ Firebase env vars: {
apiKey: true,
authDomain: true,
projectId: true,
serverProjectId: true,
clientEmail: true,
privateKey: true
}
ðŸ”§ Final app mode: firebase
ðŸ”§ JobServiceFactory: Using FirebaseJobService
(node:3286) [DEP0040] DeprecationWarning: The `punycode` module is deprecated. Please use a userland alternative instead.
(Use `node --trace-deprecation ...` to show where the warning was created)
â—‹ Compiling /api/auth/[...nextauth] ...
âœ“ Compiled /api/auth/[...nextauth] in 544ms (1659 modules)
[auth.jwt] JWT callback triggered.
[auth.session] Session callback triggered.
[auth.session] Token present, populating session user.
GET /api/auth/session 200 in 770ms
ðŸ”§ getAppMode: Starting mode detection
ðŸ”§ NEXT_PUBLIC_APP_MODE: firebase
ðŸ”§ Firebase env vars: {
apiKey: true,
authDomain: true,
projectId: true,
serverProjectId: true,
clientEmail: true,
privateKey: true
}
ðŸ”§ Final app mode: firebase
ðŸ”§ JobServiceFactory: Using FirebaseJobService
[auth.jwt] JWT callback triggered.
[auth.session] Session callback triggered.
[auth.session] Token present, populating session user.
[auth.jwt] JWT callback triggered.
[auth.session] Session callback triggered.
[auth.session] Token present, populating session user.
[auth.jwt] JWT callback triggered.
[auth.session] Session callback triggered.
[auth.session] Token present, populating session user.
[auth.jwt] JWT callback triggered.
[auth.session] Session callback triggered.
[auth.session] Token present, populating session user.
[auth.jwt] JWT callback triggered.
[auth.session] Session callback triggered.
[auth.session] Token present, populating session user.
ðŸ”¥ Firebase Admin SDK Initialized
[auth.jwt] JWT callback triggered.
[auth.session] Session callback triggered.
[auth.session] Token present, populating session user.
[auth.jwt] JWT callback triggered.
[auth.session] Session callback triggered.
[auth.session] Token present, populating session user.
[auth.jwt] JWT callback triggered.
[auth.session] Session callback triggered.
[auth.session] Token present, populating session user.
[auth.jwt] JWT callback triggered.
[auth.session] Session callback triggered.
[auth.session] Token present, populating session user.
[auth.jwt] JWT callback triggered.
[auth.session] Session callback triggered.
[auth.session] Token present, populating session user.
GET /api/auth/session 200 in 446ms
[auth.jwt] JWT callback triggered.
[auth.session] Session callback triggered.
[auth.session] Token present, populating session user.
[auth.jwt] JWT callback triggered.
[auth.session] Session callback triggered.
[auth.session] Token present, populating session user.
GET /register 200 in 832ms
GET /api/auth/session 200 in 132ms
[auth.jwt] JWT callback triggered.
[auth.session] Session callback triggered.
[auth.session] Token present, populating session user.
GET /api/auth/session 200 in 80ms
GET /register 200 in 504ms
[auth.jwt] JWT callback triggered.
[auth.session] Session callback triggered.
[auth.session] Token present, populating session user.
GET /api/auth/session 200 in 71ms
GET /dashboard/customer/jobs/9ddMvzjpxgrBl8mxIBij 200 in 1034ms
GET /dashboard/customer 200 in 1055ms
(node:3296) [DEP0040] DeprecationWarning: The `punycode` module is deprecated. Please use a userland alternative instead.
(Use `node --trace-deprecation ...` to show where the warning was created)
ðŸ”§ getAppMode: Starting mode detection
ðŸ”§ NEXT_PUBLIC_APP_MODE: firebase
ðŸ”§ Firebase env vars: {
apiKey: true,
authDomain: true,
projectId: true,
serverProjectId: true,
clientEmail: true,
privateKey: true
}
ðŸ”§ Final app mode: firebase
ðŸ”§ JobServiceFactory: Using FirebaseJobService
(node:3298) [DEP0040] DeprecationWarning: The `punycode` module is deprecated. Please use a userland alternative instead.
(Use `node --trace-deprecation ...` to show where the warning was created)
â—‹ Compiling /dashboard/messages ...
âœ“ Compiled /dashboard/messages in 919ms (1661 modules)
ðŸ”§ getAppMode: Starting mode detection
ðŸ”§ NEXT_PUBLIC_APP_MODE: firebase
ðŸ”§ Firebase env vars: {
apiKey: true,
authDomain: true,
projectId: true,
serverProjectId: true,
clientEmail: true,
privateKey: true
}
ðŸ”§ Final app mode: firebase
ðŸ”§ JobServiceFactory: Using FirebaseJobService
[auth.jwt] JWT callback triggered.
[auth.session] Session callback triggered.
[auth.session] Token present, populating session user.
ðŸ”¥ Firebase Admin SDK Initialized
[auth.jwt] JWT callback triggered.
[auth.session] Session callback triggered.
[auth.session] Token present, populating session user.
[auth.jwt] JWT callback triggered.
[auth.session] Session callback triggered.
[auth.session] Token present, populating session user.
[auth.jwt] JWT callback triggered.
[auth.session] Session callback triggered.
[auth.session] Token present, populating session user.
[auth.jwt] JWT callback triggered.
[auth.session] Session callback triggered.
[auth.session] Token present, populating session user.
[auth.jwt] JWT callback triggered.
[auth.session] Session callback triggered.
[auth.session] Token present, populating session user.
[auth.jwt] JWT callback triggered.
[auth.session] Session callback triggered.
[auth.session] Token present, populating session user.
[auth.jwt] JWT callback triggered.
[auth.session] Session callback triggered.
[auth.session] Token present, populating session user.
[auth.jwt] JWT callback triggered.
[auth.session] Session callback triggered.
[auth.session] Token present, populating session user.
[auth.jwt] JWT callback triggered.
[auth.session] Session callback triggered.
[auth.session] Token present, populating session user.
GET /register 200 in 1210ms
GET /dashboard/messages 200 in 2416ms
GET /dashboard/messages 200 in 491ms
GET /register 200 in 406ms
GET /dashboard/customer/jobs/9ddMvzjpxgrBl8mxIBij 200 in 1306ms
ðŸ”§ getAppMode: Starting mode detection
ðŸ”§ NEXT_PUBLIC_APP_MODE: firebase
ðŸ”§ Firebase env vars: {
apiKey: true,
authDomain: true,
projectId: true,
serverProjectId: true,
clientEmail: true,
privateKey: true
}
ðŸ”§ Final app mode: firebase
ðŸ”§ JobServiceFactory: Using FirebaseJobService
(node:3306) [DEP0040] DeprecationWarning: The `punycode` module is deprecated. Please use a userland alternative instead.
(Use `node --trace-deprecation ...` to show where the warning was created)
â—‹ Compiling /dashboard/messages/[jobId] ...
âœ“ Compiled /dashboard/messages/[jobId] in 3.6s (3373 modules)
ðŸ”§ getAppMode: Starting mode detection
ðŸ”§ NEXT_PUBLIC_APP_MODE: firebase
ðŸ”§ Firebase env vars: {
apiKey: true,
authDomain: true,
projectId: true,
serverProjectId: true,
clientEmail: true,
privateKey: true
}
ðŸ”§ Final app mode: firebase
ðŸ”§ JobServiceFactory: Using FirebaseJobService
ðŸ”§ getAppMode: Starting mode detection
ðŸ”§ NEXT_PUBLIC_APP_MODE: firebase
ðŸ”§ Firebase env vars: {
apiKey: true,
authDomain: true,
projectId: true,
serverProjectId: true,
clientEmail: true,
privateKey: true
}
ðŸ”§ Final app mode: firebase
(node:3315) [DEP0040] DeprecationWarning: The `punycode` module is deprecated. Please use a userland alternative instead.
(Use `node --trace-deprecation ...` to show where the warning was created)
ðŸ”§ JobServiceFactory: Using FirebaseJobService
[auth.jwt] JWT callback triggered.
[auth.session] Session callback triggered.
[auth.session] Token present, populating session user.
ðŸ”¥ Firebase Admin SDK Initialized
GET /dashboard/messages/9ddMvzjpxgrBl8mxIBij 200 in 5112ms
â—‹ Compiling /api/messages ...
âœ“ Compiled /api/messages in 1605ms (3363 modules)
ðŸ”§ getAppMode: Starting mode detection
ðŸ”§ NEXT_PUBLIC_APP_MODE: firebase
ðŸ”§ Firebase env vars: {
apiKey: true,
authDomain: true,
projectId: true,
serverProjectId: true,
clientEmail: true,
privateKey: true
}
ðŸ”§ Final app mode: firebase

--- [API] New Message Request Received ---
[auth.jwt] JWT callback triggered.
[auth.session] Session callback triggered.
[auth.session] Token present, populating session user.
ðŸ”¥ Firebase Admin SDK Initialized
[API] From: 7nU06F6lBhSEsiyKURnj5JdMuLf1, For Job: 9ddMvzjpxgrBl8mxIBij
[API] Calculated Receiver: KvVTsAGhrXdGt8eTXQX3dOfkcot1
ðŸ“§ Email sent successfully to: hello@idiomdigital.com
[API] Email sent to hello@idiomdigital.com
--- [API] Request Processed Successfully ---

POST /api/messages 201 in 2278ms
[auth.jwt] JWT callback triggered.
[auth.session] Session callback triggered.
[auth.session] Token present, populating session user.
GET /api/auth/session 200 in 316ms
[auth.jwt] JWT callback triggered.
[auth.session] Session callback triggered.
[auth.session] Token present, populating session user.
GET /api/auth/session 200 in 30ms
[auth.jwt] JWT callback triggered.
[auth.session] Session callback triggered.
[auth.session] Token present, populating session user.
GET /api/auth/session 200 in 35ms
[auth.jwt] JWT callback triggered.
[auth.session] Session callback triggered.
[auth.session] Token present, populating session user.
GET /api/auth/session 200 in 26ms
[auth.jwt] JWT callback triggered.
[auth.session] Session callback triggered.
[auth.session] Token present, populating session user.
GET /api/auth/session 200 in 35ms
(node:3350) [DEP0040] DeprecationWarning: The `punycode` module is deprecated. Please use a userland alternative instead.
(Use `node --trace-deprecation ...` to show where the warning was created)
GET /api/auth/csrf 200 in 26ms
POST /api/auth/signout 200 in 32ms
â—‹ Compiling / ...
(node:3354) [DEP0040] DeprecationWarning: The `punycode` module is deprecated. Please use a userland alternative instead.
(Use `node --trace-deprecation ...` to show where the warning was created)
âœ“ Compiled / in 7.8s (1719 modules)
GET /api/auth/session 200 in 8651ms
ðŸ”§ getAppMode: Starting mode detection
ðŸ”§ NEXT_PUBLIC_APP_MODE: firebase
ðŸ”§ Firebase env vars: {
apiKey: true,
authDomain: true,
projectId: true,
serverProjectId: true,
clientEmail: true,
privateKey: true
}
ðŸ”§ Final app mode: firebase
ðŸ”§ JobServiceFactory: Using FirebaseJobService
ðŸ”¥ Firebase Admin SDK Initialized
GET /api/auth/session 200 in 744ms
GET /api/auth/session 200 in 99ms
GET / 200 in 9710ms
(node:3359) [DEP0040] DeprecationWarning: The `punycode` module is deprecated. Please use a userland alternative instead.
(Use `node --trace-deprecation ...` to show where the warning was created)
âœ“ Compiled /login in 483ms (1729 modules)
GET /login 200 in 750ms
--- [loginAction] Start ---
[loginAction] Attempting login for email: hello@idiomdigital.com
[loginAction] Calling NextAuth signIn...
[auth.authorize] Authorize callback triggered.
[auth.authorize] Validating credentials for: hello@idiomdigital.com
ðŸ”¥ Firebase Admin SDK Initialized
[auth.authorize] Credentials valid for: hello@idiomdigital.com
[auth.authorize] User verified, returning user object for session creation.
[auth.jwt] JWT callback triggered.
[auth.jwt] User object present, populating token.
[loginAction] NextAuth signIn call completed without throwing.
[loginAction] Login successful for hello@idiomdigital.com. Determining redirect...
[loginAction] Redirecting to: /dashboard/tradesperson
POST /login 200 in 702ms
â—‹ Compiling /dashboard/tradesperson ...
âœ“ Compiled /dashboard/tradesperson in 4.9s (1716 modules)
ðŸ”§ getAppMode: Starting mode detection
ðŸ”§ NEXT_PUBLIC_APP_MODE: firebase
ðŸ”§ Firebase env vars: {
apiKey: true,
authDomain: true,
projectId: true,
serverProjectId: true,
clientEmail: true,
privateKey: true
}
ðŸ”§ Final app mode: firebase
ðŸ”§ JobServiceFactory: Using FirebaseJobService
[auth.jwt] JWT callback triggered.
[auth.session] Session callback triggered.
[auth.session] Token present, populating session user.
[auth.jwt] JWT callback triggered.
[auth.session] Session callback triggered.
[auth.session] Token present, populating session user.
[auth.jwt] JWT callback triggered.
[auth.session] Session callback triggered.
[auth.session] Token present, populating session user.
[auth.jwt] JWT callback triggered.
[auth.session] Session callback triggered.
[auth.session] Token present, populating session user.
ðŸ”¥ Firebase Admin SDK Initialized
GET /dashboard/tradesperson 200 in 6122ms
â—‹ Compiling /api/firebase/token ...
âœ“ Compiled /api/firebase/token in 2.3s (1718 modules)
[auth.jwt] JWT callback triggered.
[auth.session] Session callback triggered.
[auth.session] Token present, populating session user.
ðŸ”¥ Firebase Admin SDK Initialized
GET /api/firebase/token 200 in 2558ms
[auth.jwt] JWT callback triggered.
[auth.session] Session callback triggered.
[auth.session] Token present, populating session user.
GET /api/firebase/token 200 in 73ms
â—‹ Compiling /dashboard/messages ...
âœ“ Compiled /dashboard/messages in 2.4s (1720 modules)
ðŸ”§ getAppMode: Starting mode detection
ðŸ”§ NEXT_PUBLIC_APP_MODE: firebase
ðŸ”§ Firebase env vars: {
apiKey: true,
authDomain: true,
projectId: true,
serverProjectId: true,
clientEmail: true,
privateKey: true
}
ðŸ”§ Final app mode: firebase
ðŸ”§ JobServiceFactory: Using FirebaseJobService
[auth.jwt] JWT callback triggered.
[auth.session] Session callback triggered.
[auth.session] Token present, populating session user.
ðŸ”¥ Firebase Admin SDK Initialized
GET /dashboard/messages 200 in 2766ms
[auth.jwt] JWT callback triggered.
[auth.session] Session callback triggered.
[auth.session] Token present, populating session user.
GET /dashboard/messages/9ddMvzjpxgrBl8mxIBij 200 in 162ms
ðŸ”§ getAppMode: Starting mode detection
ðŸ”§ NEXT_PUBLIC_APP_MODE: firebase
ðŸ”§ Firebase env vars: {
apiKey: true,
authDomain: true,
projectId: true,
serverProjectId: true,
clientEmail: true,
privateKey: true
}
ðŸ”§ Final app mode: firebase
ðŸ”§ JobServiceFactory: Using FirebaseJobService
(node:3381) [DEP0040] DeprecationWarning: The `punycode` module is deprecated. Please use a userland alternative instead.
(Use `node --trace-deprecation ...` to show where the warning was created)
â—‹ Compiling /api/messages ...
âœ“ Compiled /api/messages in 1584ms (1722 modules)
ðŸ”§ getAppMode: Starting mode detection
ðŸ”§ NEXT_PUBLIC_APP_MODE: firebase
ðŸ”§ Firebase env vars: {
apiKey: true,
authDomain: true,
projectId: true,
serverProjectId: true,
clientEmail: true,
privateKey: true
}
ðŸ”§ Final app mode: firebase

--- [API] New Message Request Received ---
[auth.jwt] JWT callback triggered.
[auth.session] Session callback triggered.
[auth.session] Token present, populating session user.
ðŸ”¥ Firebase Admin SDK Initialized
[API] From: KvVTsAGhrXdGt8eTXQX3dOfkcot1, For Job: 9ddMvzjpxgrBl8mxIBij
[API] Calculated Receiver: 7nU06F6lBhSEsiyKURnj5JdMuLf1
ðŸ“§ Email sent successfully to: marvinmiller@rocketmail.com
[API] Email sent to marvinmiller@rocketmail.com
--- [API] Request Processed Successfully ---

POST /api/messages 201 in 2823ms
